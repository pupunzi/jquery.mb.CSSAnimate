
/*
 * ******************************************************************************
 *  jquery.mb.components
 *  file: jquery.mb.CSSAnimate.min.js
 *
 *  Copyright (c) 2001-2014. Matteo Bicocchi (Pupunzi);
 *  Open lab srl, Firenze - Italy
 *  email: matteo@open-lab.com
 *  site: 	http://pupunzi.com
 *  blog:	http://pupunzi.open-lab.com
 * 	http://open-lab.com
 *
 *  Licences: MIT, GPL
 *  http://www.opensource.org/licenses/mit-license.php
 *  http://www.gnu.org/licenses/gpl.html
 *
 *  last modified: 26/03/14 21.40
 *  *****************************************************************************
 */

/*Browser detection patch*/
jQuery.fn.CSSAnimate=function(a,h,n,m,k){function q(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function g(a,e){return"string"!==typeof a||a.match(/^[\-0-9\.]+$/)?""+a+e:a}jQuery.support.transition=function(){var a=(document.body||document.documentElement).style;return void 0!==a.transition||void 0!==a.WebkitTransition||void 0!==a.MozTransition||void 0!==a.MsTransition||void 0!==a.OTransition}();return this.each(function(){function r(){l.off(p+"."+e.id);clearTimeout(e.timeout); l.css(d+"transition","");"function"==typeof k&&k(l);e.called=!0;e.CSSAIsRunning=!1;"function"==typeof e.CSSqueue&&(e.CSSqueue(),e.CSSqueue=null)}var e=this,l=jQuery(this);e.id=e.id||"CSSA_"+(new Date).getTime();var f=f||{type:"noEvent"};if(e.CSSAIsRunning&&e.eventType==f.type)e.CSSqueue=function(){l.CSSAnimate(a,h,n,m,k)};else if(e.CSSqueue=null,e.eventType=f.type,0!==l.length&&a){e.CSSAIsRunning=!0;"function"==typeof h&&(k=h,h=jQuery.fx.speeds._default);"function"==typeof n&&(k=n,n=0);"function"== typeof m&&(k=m,m="cubic-bezier(0.65,0.03,0.36,0.72)");if("string"==typeof h)for(var b in jQuery.fx.speeds)if(h==b){h=jQuery.fx.speeds[b];break}else h=jQuery.fx.speeds._default;h||(h=jQuery.fx.speeds._default);if(jQuery.support.transition){f={"default":"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)", easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)", easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};f[m]&&(m=f[m]);var d="",p="transitionEnd";jQuery.browser.webkit||jQuery.browser.opera?(d="-webkit-",p="webkitTransitionEnd"):jQuery.browser.mozilla?(d="-moz-",p="transitionend"):jQuery.browser.msie&& (d="-ms-",p="msTransitionEnd");f=[];for(c in a){b=c;"transform"===b&&(b=d+"transform",a[b]=a[c],delete a[c]);"filter"===b&&(b=d+"filter",a[b]=a[c],delete a[c]);if("transform-origin"===b||"origin"===b)b=d+"transform-origin",a[b]=a[c],delete a[c];"x"===b&&(b=d+"transform",a[b]=a[b]||"",a[b]+=" translateX("+g(a[c],"px")+")",delete a[c]);"y"===b&&(b=d+"transform",a[b]=a[b]||"",a[b]+=" translateY("+g(a[c],"px")+")",delete a[c]);"z"===b&&(b=d+"transform",a[b]=a[b]||"",a[b]+=" translateZ("+g(a[c],"px")+ ")",delete a[c]);"rotate"===b&&(b=d+"transform",a[b]=a[b]||"",a[b]+=" rotate("+g(a[c],"deg")+")",delete a[c]);"rotateX"===b&&(b=d+"transform",a[b]=a[b]||"",a[b]+=" rotateX("+g(a[c],"deg")+")",delete a[c]);"rotateY"===b&&(b=d+"transform",a[b]=a[b]||"",a[b]+=" rotateY("+g(a[c],"deg")+")",delete a[c]);"rotateZ"===b&&(b=d+"transform",a[b]=a[b]||"",a[b]+=" rotateZ("+g(a[c],"deg")+")",delete a[c]);"scale"===b&&(b=d+"transform",a[b]=a[b]||"",a[b]+=" scale("+g(a[c],"")+")",delete a[c]);"scaleX"===b&&(b=d+ "transform",a[b]=a[b]||"",a[b]+=" scaleX("+g(a[c],"")+")",delete a[c]);"scaleY"===b&&(b=d+"transform",a[b]=a[b]||"",a[b]+=" scaleY("+g(a[c],"")+")",delete a[c]);"scaleZ"===b&&(b=d+"transform",a[b]=a[b]||"",a[b]+=" scaleZ("+g(a[c],"")+")",delete a[c]);"skew"===b&&(b=d+"transform",a[b]=a[b]||"",a[b]+=" skew("+g(a[c],"deg")+")",delete a[c]);"skewX"===b&&(b=d+"transform",a[b]=a[b]||"",a[b]+=" skewX("+g(a[c],"deg")+")",delete a[c]);"skewY"===b&&(b=d+"transform",a[b]=a[b]||"",a[b]+=" skewY("+g(a[c],"deg")+ ")",delete a[c]);"perspective"===b&&(b=d+"transform",a[b]=a[b]||"",a[b]+=" perspective("+g(a[c],"px")+")",delete a[c]);0>f.indexOf(b)&&f.push(q(b))}c=f.join(",");f={};$.extend(f,a);f[d+"transition-property"]=c;f[d+"transition-duration"]=h+"ms";f[d+"transition-delay"]=n+"ms";f[d+"transition-style"]="preserve-3d";f[d+"transition-timing-function"]=m;l.one(p+"."+e.id,r);l.css(f);e.timeout=setTimeout(function(){l.called||!k?(l.called=!1,e.CSSAIsRunning=!1):(l.css(d+"transition",""),k(l),e.CSSAIsRunning= !1,"function"==typeof e.CSSqueue&&(e.CSSqueue(),e.CSSqueue=null))},h+n+300)}else{for(var c in a)"transform"===c&&delete a[c],"filter"===c&&delete a[c],"transform-origin"===c&&delete a[c],"auto"===a[c]&&delete a[c];k&&"string"!==typeof k||(k="linear");l.animate(a,h,k)}}})};$.fn.css3=function(a,h,n,m,k){return this.each(function(){$(this).CSSAnimate(a,1,0,null)})};
